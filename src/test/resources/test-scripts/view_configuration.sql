--clear data
TRUNCATE TABLE core.view_configuration CASCADE;

ALTER SEQUENCE core.view_configuration_id_seq RESTART WITH 6;

ALTER SEQUENCE core.view_configuration_metadata_id_seq RESTART WITH 6;

--insert data
INSERT INTO core.view_configuration (id, json) VALUES
(1, '{"_id": "92141b17040021a7ce326194ff0029f7", "_rev": "19-004e54d1f1cd1b29ac681ec74cc672d2", "type": "ViewConfiguration", "metadata": {"type": "Login", "background": {"orientation": "BOTTOM_TOP"}, "showPasswordCheckbox": true}, "identifier": "login", "serverVersion": 1515152954114}'),
(2, '{"_id": "19a2e8aa6739d77a2b780199c6122867", "_rev": "60-9eaf54f5e5aa77f399f746401feaaab6", "type": "ViewConfiguration", "metadata": {"type": "Main", "language": "en", "applicationName": "TB REACH", "enableJsonViews": true}, "identifier": "main", "serverVersion": 1516890951253}'),
(3, '{"_id": "3a065d7c3354eb2bc23c8a3bc303ba20", "_rev": "2-e7c21d42edca554d9b1fb500381ded8d", "type": "ViewConfiguration", "views": [{"label": "column_patient", "visible": true, "residence": {"position": 0, "layout_weight": "2"}, "identifier": "patient"}, {"label": "column_results", "visible": true, "residence": {"position": 1, "layout_weight": "2"}, "identifier": "results"}, {"label": "column_treat", "visible": true, "residence": {"position": 3, "layout_weight": "1.5"}, "identifier": "treat"}, {"label": "column_smr_results", "visible": true, "residence": {"position": 2, "layout_weight": "1.5"}, "identifier": "smr_results"}, {"label": "column_xpert_results", "visible": true, "residence": {"position": 2, "layout_weight": "1.5"}, "identifier": "xpert_results"}, {"label": "column_diagnosis", "visible": true, "residence": {"position": 4, "layout_weight": "1.5"}, "identifier": "diagnosis"}], "metadata": {"type": "Register", "searchBarText": "Name and Participant ID", "enableSortList": false, "enableFilterList": false, "enableAdvancedSearch": true}, "identifier": "positive_register", "serverVersion": 1516605871345}'),
(4, '{"_id": "3a065d7c3354eb2bc23c8a3bc303ef62", "_rev": "4-44df2edb68f7fd2d416c3d24e0966abd", "type": "ViewConfiguration", "jsonView": {"views": [{"views": [], "widget": "org.smartregister.view.customcontrols.CustomFontTextView", "properties": [{"name": "id", "type": "ref", "value": "results_header"}, {"name": "style", "type": "ref", "value": "@style/CustomFontTextViewStyle.ClientList.Medium"}, {"name": "layout_width", "type": "dimen", "value": "0dp"}, {"name": "layout_height", "type": "dimen", "value": "wrap_content"}, {"name": "layout_alignParentRight", "type": "BOOLEAN", "value": "true"}, {"name": "layout_marginRight", "type": "dimen", "value": "7dp"}, {"name": "layout_weight", "type": "float", "value": "3.4"}, {"name": "text", "type": "ref", "value": "@string/results"}, {"name": "textAllCaps", "type": "BOOLEAN", "value": "true"}, {"name": "textColor", "type": "ref", "value": "@color/client_list_grey"}, {"name": "textSize", "type": "dimen", "value": "16sp"}]}, {"views": [], "widget": "org.smartregister.view.customcontrols.CustomFontTextView", "properties": [{"name": "id", "type": "ref", "value": "treat_header"}, {"name": "style", "type": "ref", "value": "@style/CustomFontTextViewStyle.ClientList.Medium"}, {"name": "layout_width", "type": "dimen", "value": "0dp"}, {"name": "layout_height", "type": "dimen", "value": "wrap_content"}, {"name": "layout_centerHorizontal", "type": "BOOLEAN", "value": "true"}, {"name": "layout_weight", "type": "float", "value": "2.6"}, {"name": "text", "type": "ref", "value": "@string/treat"}, {"name": "textAllCaps", "type": "BOOLEAN", "value": "true"}, {"name": "textColor", "type": "ref", "value": "@color/client_list_grey"}, {"name": "textSize", "type": "dimen", "value": "16sp"}]}, {"views": [], "widget": "org.smartregister.view.customcontrols.CustomFontTextView", "properties": [{"name": "id", "type": "ref", "value": "diagnosis_header"}, {"name": "style", "type": "ref", "value": "@style/CustomFontTextViewStyle.ClientList.Medium"}, {"name": "layout_width", "type": "dimen", "value": "0dp"}, {"name": "layout_height", "type": "dimen", "value": "wrap_content"}, {"name": "layout_centerHorizontal", "type": "BOOLEAN", "value": "true"}, {"name": "layout_weight", "type": "float", "value": "2.6"}, {"name": "text", "type": "ref", "value": "@string/diagnosis"}, {"name": "textAllCaps", "type": "BOOLEAN", "value": "true"}, {"name": "textColor", "type": "ref", "value": "@color/client_list_grey"}, {"name": "textSize", "type": "dimen", "value": "16sp"}, {"name": "visibility", "type": "string", "value": "gone"}]}], "widget": "LinearLayout", "properties": [{"name": "id", "type": "ref", "value": "register_headers"}, {"name": "layout_width", "type": "dimen", "value": "fill_parent"}, {"name": "layout_height", "type": "dimen", "value": "wrap_content"}, {"name": "background", "type": "ref", "value": "@color/client_list_header_dark_grey"}, {"name": "baselineAligned", "type": "string", "value": "false"}, {"name": "orientation", "type": "string", "value": "horizontal"}]}, "identifier": "positive_register_header", "serverVersion": 1516614392971}'),
(5, '{"_id": "d243bc5737fb389e52601cb850299541", "_rev": "46-7fa67d54ca9938f5400a2eb8fbf7a54e", "type": "ViewConfiguration", "labels": {"date": "Tarehe", "form": "Fomu", "contacts": "Anwani", "record_results": "REKODI MATOKEO", "remove_patient": "Toa Mgonjwa", "first_encounter": "Makutano ya Kwanza", "service_history": "Historia ya Huduma", "positive_results": "Matokeo ya Kudhibitishwa", "positive_patients": "Wangonjwa Wa Kudhibitishwa", "no_results_recorded": "Hakuna Matokeo", "presumptive_patients": "Wagonjwa Watakaopimwa", "in_treatment_patients": "Wagonjwa Wanaotibiwa"}, "identifier": "lang_sw", "serverVersion": 1515152954118}');

INSERT INTO core.view_configuration_metadata (id, view_configuration_id, document_id, identifier, server_version) VALUES
(1, 1, '92141b17040021a7ce326194ff0029f7', 'login', 1515152954114),
(2, 2, '19a2e8aa6739d77a2b780199c6122867', 'main', 1516890951253),
(3, 3, '3a065d7c3354eb2bc23c8a3bc303ba20', 'positive_register', 1516605871345),
(4, 4, '3a065d7c3354eb2bc23c8a3bc303ef62', 'positive_register_header', 1516614392971),
(5, 5, 'd243bc5737fb389e52601cb850299541', 'lang_sw', 1515152954118);


SELECT setval('core.view_config_server_version_seq',(SELECT max(json->>'serverVersion')::bigint+1 FROM core.view_configuration));